"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[11],{2396:(e,t,n)=>{var o=n(10),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),s=a(n(156)),i=a(n(157)),c=a(n(439)),u=a(n(438)),l=a(n(440)),g=a(n(0)),p=(a(n(444)),a(n(1145))),d=n(1946),f=n(283);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}var y=function(e){function t(e){var n,o,a,r;return(0,s.default)(this,t),o=this,a=t,r=[e],a=(0,u.default)(a),(n=(0,c.default)(o,m()?Reflect.construct(a,r||[],(0,u.default)(o).constructor):a.apply(o,r))).init=function(){if(!window.google)throw new Error("[react-places-autocomplete]: Google Maps JavaScript API library must be loaded. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");if(!window.google.maps.places)throw new Error("[react-places-autocomplete]: Google Maps Places library must be loaded. Please add `libraries=places` to the src URL. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");n.autocompleteService=new window.google.maps.places.AutocompleteService,n.autocompleteOK=window.google.maps.places.PlacesServiceStatus.OK,n.setState(function(e){return e.ready?null:{ready:!0}})},n.autocompleteCallback=function(e,t){if(n.setState({loading:!1}),t===n.autocompleteOK){var o=n.props.highlightFirstSuggestion;n.setState({suggestions:e.map(function(e,t){var n,a,r;return{id:e.placeId,description:e.description,placeId:e.placeId,active:!(!o||0!==t),index:t,formattedSuggestion:(r=e.structuredFormatting,{mainText:r.mainText,secondaryText:r.secondaryText}),types:e.types,category:e.category,geometry:{location:{lat:(null==e||null===(n=e.location)||void 0===n?void 0:n.lat)||null,lng:(null==e||null===(a=e.location)||void 0===a?void 0:a.lon)||null}}}})})}else n.props.onError(t,n.clearSuggestions)},n.fetchPredictions=function(){var e,t=n.props,o=t.value,a=t.getSuggestionUrl,r=t.page,s=t.sendGaEvent,i=t.cookies;(null==o||null===(e=o.trim())||void 0===e?void 0:e.length)>=3&&("default"===r&&s&&(0,f.nbGaEvent)("placesApiCall","home_".concat(i.nbpt),{eventDetailsInfo:JSON.stringify({searchParam:o,suggestionSelect:!1})}),n.setState({loading:!0}),fetch(a,{method:"GET",headers:{"X-Tenant-Id":"NOBROKER"}}).then(function(e){return e.json()}).then(function(e){("OK"===e.status||e.predictions.length>0)&&n.autocompleteCallback(e.predictions,window.google.maps.places.PlacesServiceStatus.OK)}).catch(function(e){(0,f.nbGaEvent)("Locality","autocomplete-api-failure")}))},n.clearSuggestions=function(){n.setState({suggestions:[]})},n.clearActive=function(){n.setState({suggestions:n.state.suggestions.map(function(e){return v(v({},e),{},{active:!1})})})},n.handleSelect=function(e,t,o){var a=n.props,r=a.value,s=a.page,i=a.sendGaEvent,c=a.cookies;n.clearSuggestions(),n.props.onSelect?(n.props.onSelect(e,t,o),"default"===s&&i&&(0,f.nbGaEvent)("placesApiCall","home_".concat(c.nbpt),{eventDetailsInfo:JSON.stringify({searchParam:r,placeId:t,suggestionSelect:!0})})):n.props.onChange(e)},n.getActiveSuggestion=function(){return n.state.suggestions.find(function(e){return e.active})},n.selectActiveAtIndex=function(e){var t=n.state.suggestions.find(function(t){return t.index===e}).description;n.setActiveAtIndex(e),n.props.onChange(t)},n.selectUserInputValue=function(){n.clearActive(),n.props.onChange(n.state.userInputValue)},n.handleEnterKey=function(){var e=n.getActiveSuggestion();void 0===e?n.handleSelect(n.props.value,null,null):n.handleSelect(e.description,e.placeId,e)},n.handleDownKey=function(){if(0!==n.state.suggestions.length){var e=n.getActiveSuggestion();void 0===e?n.selectActiveAtIndex(0):e.index===n.state.suggestions.length-1?n.selectUserInputValue():n.selectActiveAtIndex(e.index+1)}},n.handleUpKey=function(){if(0!==n.state.suggestions.length){var e=n.getActiveSuggestion();void 0===e?n.selectActiveAtIndex(n.state.suggestions.length-1):0===e.index?n.selectUserInputValue():n.selectActiveAtIndex(e.index-1)}},n.handleInputKeyDown=function(e){switch(e.key){case"Enter":e.preventDefault(),n.handleEnterKey();break;case"ArrowDown":e.preventDefault(),n.handleDownKey();break;case"ArrowUp":e.preventDefault(),n.handleUpKey();break;case"Escape":n.clearSuggestions()}},n.setActiveAtIndex=function(e){n.setState({suggestions:n.state.suggestions.map(function(t,n){return v(v({},t),{},n===e?{active:!0}:{active:!1})})})},n.handleInputChange=function(e){var t=e.target.value;n.props.onChange(t),n.setState({userInputValue:t},function(){t?n.props.shouldFetchSuggestions&&n.debouncedFetchPredictions():n.clearSuggestions()})},n.handleInputOnBlur=function(){n.mousedownOnSuggestion||n.clearSuggestions()},n.getActiveSuggestionId=function(){var e=n.getActiveSuggestion();return e?"PlacesAutocomplete__suggestion-".concat(e.placeId):void 0},n.getIsExpanded=function(){return n.state.suggestions.length>0},n.getInputProps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.hasOwnProperty("value"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `value`. Use `value` prop instead");if(e.hasOwnProperty("onChange"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `onChange`. Use `onChange` prop instead");return v(v(v({},{type:"text",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-expanded":n.getIsExpanded(),"aria-activedescendant":n.getActiveSuggestionId(),disabled:!n.state.ready}),e),{},{onKeyDown:(0,d.compose)(n.handleInputKeyDown,e.onKeyDown),onBlur:(0,d.compose)(n.handleInputOnBlur,e.onBlur),value:n.props.value,onChange:function(e){n.handleInputChange(e)}})},n.getSuggestionItemProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.handleSuggestionMouseEnter.bind(n,e.index),a=n.handleSuggestionClick.bind(n,e);return v(v({},t),{},{key:e.placeId,id:n.getActiveSuggestionId(),role:"option",onMouseEnter:(0,d.compose)(o,t.onMouseEnter),onMouseLeave:(0,d.compose)(n.handleSuggestionMouseLeave,t.onMouseLeave),onMouseDown:(0,d.compose)(n.handleSuggestionMouseDown,t.onMouseDown),onMouseUp:(0,d.compose)(n.handleSuggestionMouseUp,t.onMouseUp),onTouchStart:(0,d.compose)(n.handleSuggestionTouchStart,t.onTouchStart),onTouchEnd:(0,d.compose)(n.handleSuggestionMouseUp,t.onTouchEnd),onClick:(0,d.compose)(a,t.onClick)})},n.handleSuggestionMouseEnter=function(e){n.setActiveAtIndex(e)},n.handleSuggestionMouseLeave=function(){n.mousedownOnSuggestion=!1,n.clearActive()},n.handleSuggestionMouseDown=function(e){e.preventDefault(),n.mousedownOnSuggestion=!0},n.handleSuggestionTouchStart=function(){n.mousedownOnSuggestion=!0},n.handleSuggestionMouseUp=function(){n.mousedownOnSuggestion=!1},n.handleSuggestionClick=function(e,t){t&&t.preventDefault&&t.preventDefault();var o=e.description,a=e.placeId;n.handleSelect(o,a,e),setTimeout(function(){n.mousedownOnSuggestion=!1})},n.state={loading:!1,suggestions:[],userInputValue:e.value,ready:!e.googleCallbackName},n.debouncedFetchPredictions=(0,p.default)(n.fetchPredictions,e.debounce),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.googleCallbackName;e?window.google&&window.google.maps&&window.google.maps.places?this.init():window[e]=this.init:this.init()}},{key:"componentWillUnmount",value:function(){var e=this.props.googleCallbackName;e&&window[e]&&(window[e]=function(){})}},{key:"render",value:function(){return this.props.children({getInputProps:this.getInputProps,getSuggestionItemProps:this.getSuggestionItemProps,loading:this.state.loading,suggestions:this.state.suggestions})}}])}(g.default.Component);y.defaultProps={onError:function(e,t){return o.error("[react-places-autocomplete]: error happened when fetching data from Google Maps API.\nPlease check the docs here (https://developers.google.com/maps/documentation/javascript/places#place_details_responses)\nStatus: ",e)},searchOptions:{},debounce:200,highlightFirstSuggestion:!1,shouldFetchSuggestions:!0};t.default=y},1946:(e,t,n)=>{var o=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.getLatLng=t.geocodeByPlaceIdNew=t.geocodeByPlaceId=t.geocodeByAddress=t.formattedSuggestion=t.compose=void 0;var a=o(n(44)),r=o(n(53)),s=o(n(9)),i=o(n(160));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.compose=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.forEach(function(e){return e&&e.apply(void 0,n)})}},t.formattedSuggestion=function(e){return{mainText:e.main_text,secondaryText:e.secondary_text}},t.geocodeByAddress=function(e){var t=new window.google.maps.Geocoder,n=window.google.maps.GeocoderStatus.OK;return new Promise(function(o,a){t.geocode({address:e},function(e,t){t!==n&&a(t),o(e)})})},t.getLatLng=function(e){return new Promise(function(t,n){try{t({lat:"function"==typeof e.geometry.location.lat?e.geometry.location.lat():e.geometry.location.lat,lng:"function"==typeof e.geometry.location.lng?e.geometry.location.lng():e.geometry.location.lng})}catch(o){n(o)}})},t.geocodeByPlaceId=function(e){return new Promise(function(t){fetch(e,{method:"GET",headers:{"X-Tenant-Id":"NOBROKER"}}).then(function(e){return e.json()}).then(function(e){if(e.place){var n,o,a,r,s,i=[],c=e.place;c=u(u({},c),{},{place_id:null===(n=c)||void 0===n?void 0:n.id,geometry:{location:{lat:(null===(o=c)||void 0===o||null===(a=o.location)||void 0===a?void 0:a.lat)||null,lng:(null===(r=c)||void 0===r||null===(s=r.location)||void 0===s?void 0:s.lon)||null}}}),i.push(c),t(i)}}).catch(function(e){})})},t.geocodeByPlaceIdNew=function(){var e=(0,r.default)(a.default.mark(function e(t){var n,o,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t,e.next=1,i.default.get(n,{method:"GET",headers:{"X-Tenant-Id":"NOBROKER"}});case 1:if(200!==(o=e.sent).status){e.next=2;break}return e.abrupt("return",o.data.result);case 2:e.next=4;break;case 3:return e.prev=3,r=e.catch(0),e.abrupt("return",r);case 4:case"end":return e.stop()}},e,null,[[0,3]])}));return function(t){return e.apply(this,arguments)}}()}}]);