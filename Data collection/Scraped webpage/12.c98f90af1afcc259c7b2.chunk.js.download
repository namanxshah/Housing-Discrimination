"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[12],{1178:(e,t,o)=>{var a=o(10),n=o(8),l=o(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(o(441)),s=n(o(137)),i=n(o(30)),c=n(o(282)),d=n(o(9)),u=n(o(156)),p=n(o(157)),f=n(o(439)),g=n(o(438)),v=n(o(440)),h=function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var n,r,s={__proto__:null,default:e};if(null===e||"object"!=l(e)&&"function"!=typeof e)return s;if(n=t?a:o){if(n.has(e))return n.get(e);n.set(e,s)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(r.get||r.set)?n(s,i,r):s[i]=e[i]);return s}(e,t)}(o(0)),y=o(1946),m=n(o(2396)),w=o(106),b=o(1134),C=n(o(1114));o(3239);var D,O,_,x,L=o(283);function N(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,a)}return o}function j(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?N(Object(o),!0).forEach(function(t){(0,d.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):N(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(R=function(){return!!e})()}var P="".concat("https://assets.nobroker.in/nb-new/public","/Common"),S="".concat(P,"/google-logo.png"),A="".concat("https://assets.nobroker.in/nb-new/public","/searchLocation.svg"),E="".concat("https://assets.nobroker.in/nb-new/public","/searchSociety.svg"),I=["ChIJwe1EZjDG5zsRaYxkjY_tpF0","ChIJbU60yXAWrjsR4E9-UejD3_g","ChIJARFGZy6_wjsRQ-Oenb9DjYI","ChIJYTN9T-plUjoRM9RjaAunYW4","ChIJWYjjgtUZDTkRHkvG5ehfzwI","ChIJx9Lr6tqZyzsRwvu6koO3k64","ChIJL_P_CXMEDTkRw0ZdG-0GVvw","ChIJezVzMaTlDDkRP8B8yDDO_zc","ChIJ75r4uGTqDDkRLpYXU7vKDOw","ChIJ3w_FQbvxDDkRuph3atJv8OY","ChIJsSSk9RXcDDkR8uBQyHYF9eQ","ChIJQ97RPE_AwjsR5zbDDbo3wHI","ChIJQ97RPE_AwjsR5zbDDbo3wHI"],k=function(e){function t(e){var o,n,l,d;(0,u.default)(this,t),n=this,l=t,d=[e],l=(0,g.default)(l),(o=(0,f.default)(n,R()?Reflect.construct(l,d||[],(0,g.default)(n).constructor):l.apply(n,d))).handleChange=function(e){o.setState({address:e},function(){o.props.onSelect(o.state.address)}),o.props.onInputChange&&o.props.onInputChange(e)},o.updateLocality=function(e,t,a){var n,l=o.props,r=l.setReqData,s=l.handleOnError;r(e),e[0]&&null!==(n=e[0])&&void 0!==n&&n.name&&o.setState({placeObj:e[0]},function(){if(null!=t)if((0,w.checkLocalityInCity)(t,e[0]))o.setState({address:a}),(0,y.getLatLng)(e[0]).then(function(t){t&&("function"==typeof o.props.showAlertMsg&&o.props.showAlertMsg(!1,""),o.props.onSelect(e,t,a))});else{o.setState({address:""}),"function"==typeof o.props.showAlertMsg?(s(e),o.props.showAlertMsg(!0,"Please select another locality in ".concat(o.props.city.toLowerCase()))):window.triggerAlert("Please select another locality in ".concat(o.props.city.toLowerCase()));try{var n;(0,L.nbGaEvent)("LocalitySelector","WrongLocalityOfCity",{service_city:o.props.city.toLowerCase()||"",searchPlaceId:null===(n=e[0])||void 0===n?void 0:n.place_id})}catch(l){}}else o.setState({address:a}),(0,y.getLatLng)(e[0]).then(function(t){t&&o.props.onSelect(e,t,a)})})},o.handleSelect=function(e,t,n){var l=o.props,r=l.blockCity,s=l.city.toLowerCase(),i=null;if(s&&b.MAP_BOUND_DEFAULT[s]&&"undefined"!=typeof google&&(i=new google.maps.LatLngBounds(new google.maps.LatLng(b.MAP_BOUND_DEFAULT[s].swlat,b.MAP_BOUND_DEFAULT[s].swlon),new google.maps.LatLng(b.MAP_BOUND_DEFAULT[s].nelat,b.MAP_BOUND_DEFAULT[s].nelon))),e&&t)if(r&&I.includes(t))"undefined"!=typeof window&&window.triggerAlert("City can not be selected, Please select a locality like Kormangala, Andheri etc.");else{var c,u,p,f,g="/places/api/v1/detail/".concat(t);try{var v;"function"==typeof(null===(v=o.inputRef)||void 0===v?void 0:v.blur)&&o.inputRef.blur()}catch(d){}var h,m=null;if(null!==(null==n||null===(c=n.geometry)||void 0===c||null===(u=c.location)||void 0===u?void 0:u.lat)&&null!==(null==n||null===(p=n.geometry)||void 0===p||null===(f=p.location)||void 0===f?void 0:f.lon))delete(m=[j(j({},n),{},{name:null==n||null===(h=n.formattedSuggestion)||void 0===h?void 0:h.mainText,place_id:t})])[0].placeId,o.updateLocality(m,i,e);else(0,y.geocodeByPlaceId)(g).then(function(t){m=t,o.updateLocality(m,i,e)}).catch(function(e){return a.error("Error",e)})}},o.componentDidMount=function(){o.setState({address:o.props.prfillValue?o.props.prfillValue:""})},o.getClassName=function(){var e="";return o.props.size&&(e+="nb-google-autocomplete-".concat(o.props.size)),o.props.className?" ".concat(o.props.className," ").concat(e):" ".concat(e)},o.getDisplayString=function(e){var t=null==e?void 0:e.formattedSuggestion,a=t.mainText,n=t.secondaryText,l="".concat(a,", ").concat(n);return h.default.createElement(h.default.Fragment,null,(0,c.default)("strong",{},void 0,l.substring(0,l.indexOf((0,w.toTitleCase)(o.state.address))+o.state.address.length)),l.substring(l.indexOf((0,w.toTitleCase)(o.state.address))+o.state.address.length))},o.render=function(){var e=o.props,t=e.city,a=e.page,n=e.debounce,l=e.disabled,d=e.inputStyle,u=e.placeParams,p=e.shouldFocus,f=void 0!==p&&p,g=e.isNewNeighbourhood,v=void 0!==g&&g,y=e.isNewProjectPage,w=e.sendGaEvent,b=void 0!==w&&w,L=e.cookies,N=o.state,R=N.address,P=N.top,I="/places/api/v1/autocomplete?hint=".concat(encodeURIComponent(null==R?void 0:R.trim()),"&city=").concat(t.toLowerCase(),"&params=").concat(u);return(0,c.default)(m.default,{value:o.state.address,onChange:o.handleChange,onSelect:o.handleSelect,onBlur:o.handleBlur,debounce:n,cookies:L,sendGaEvent:b,googleCallbackName:"googleMapLoadCallBack",city:t,getSuggestionUrl:I,page:a,searchOptions:o.props.searchOptions,shouldFetchSuggestions:o.state.address.length>=3&&!o.state.address.endsWith(" ")},void 0,function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,u=P,p=a.length,g=40*p+20;if(p&&o.inputRef&&o.inputRef.getBoundingClientRect&&"object"===("undefined"==typeof window?"undefined":(0,i.default)(window))){var m=o.inputRef.getBoundingClientRect().top;window.innerHeight-m-50<g&&(u=-1*g)}var w=(0,s.default)(a).reverse();return(0,c.default)("div",{className:"nb-google-autocomplete".concat(o.getClassName())},void 0,h.default.createElement(C.default,(0,r.default)({},t(j(j({},o.props),{},{getRef:function(e){o.inputRef=e},disabled:l,inputStyle:d})),{getRef:function(e){o.inputRef=e},autoCompleteType:"off",shouldFocus:f,isNewProjectPage:y})),a.length>0?v?(0,c.default)("div",{className:"autocomplete-dropdown-container px-3 ml-[-40px] pt-0 pb-[2px] rounded-b-[12px] bg-[#FCFCFC] shadow-[0px_2px_4px_0px_#0000001A] border-1 border-[#5454541A] border-t-0",id:"autocomplete-dropdown-container",style:{top:"42px",width:"calc(100% + 40px)"}},void 0,((u<0?w:a)||[]).map(function(e,t){return h.default.createElement("div",(0,r.default)({className:"flex w-full p-2 whitespace-nowrap overflow-hidden text-ellipsis cursor-pointer bg-[#FCFCFC] hover:bg-gray-200 hover:rounded-4 justify-center ".concat(t<(null==a?void 0:a.length)-1?"border-b-1 border-[#5454541A]":"")},n(e),{key:e.id||t}),(0,c.default)("div",{className:"suggestion-type-logo-address flex gap-1 relative ".concat("building"!==e.category?"w-full":"w-85pe")},void 0,(0,c.default)("div",{className:"searched-query-logo flex w-6pe"},void 0,(0,c.default)("img",{src:"building"===e.category?E:A,loading:"lazy",alt:"",className:"mr-[5px]",height:24,width:24})),(0,c.default)("div",{className:"address flex justify-start items-center w-[70%]"},void 0,(0,c.default)("div",{className:"overflow-hidden truncate"},void 0,h.default.createElement(h.default.Fragment,null,o.getDisplayString(e)))),D||(D=(0,c.default)("img",{alt:"direction",src:"https://assets.nobroker.in/nob-merchandise/ArrowUpLeft.svg",width:20,height:20,className:"absolute top-0 bottom-0 right-0 m-auto"}))),"building"===e.category?(0,c.default)("div",{className:"w-15pe flex justify-center text-center text-sm"},void 0,(0,c.default)("div",{className:"w-full bg-white border border-[#009587] rounded-full p-1 text-[#009587]"},void 0,"building"===e.category?"Society":"Locality")):O||(O=(0,c.default)("div",{})))})):(0,c.default)("div",{className:"autocomplete-dropdown-container",id:"autocomplete-dropdown-container",style:{top:"".concat(u,"px")}},void 0,((u<0?w:a)||[]).map(function(e,t){return h.default.createElement("div",(0,r.default)({className:"flex w-full p-2 whitespace-nowrap overflow-hidden text-ellipsis cursor-pointer bg-white hover:bg-gray-200 justify-center"},n(e),{key:e.id||t}),(0,c.default)("div",{className:"suggestion-type-logo-address flex gap-1 ".concat("building"!==e.category?"w-full":"w-85pe")},void 0,(0,c.default)("div",{className:"searched-query-logo flex w-6pe"},void 0,(0,c.default)("img",{src:"building"===e.category?E:A,loading:"lazy",alt:"",className:"mr-[5px]",height:24,width:24})),(0,c.default)("div",{className:"address flex justify-start items-center w-92pe"},void 0,(0,c.default)("div",{className:"overflow-hidden truncate"},void 0,h.default.createElement(h.default.Fragment,null,o.getDisplayString(e))))),"building"===e.category?(0,c.default)("div",{className:"w-15pe flex justify-center text-center text-sm"},void 0,(0,c.default)("div",{className:"w-full bg-white border border-[#009587] rounded-full p-1 text-[#009587]"},void 0,"building"===e.category?"Society":"Locality")):_||(_=(0,c.default)("div",{})))}),x||(x=(0,c.default)("div",{className:"google-logo-wrapper"},void 0,"powered by ",(0,c.default)("img",{src:S,alt:"google logo",className:"google-logo"})))):null)})};var p=e.size,v=75;return"md"!==p&&p||(v=65),"sm"===p&&(v=55),e.label||(v-=25),o.state={address:"",placeObj:[],top:v},o.inputRef=h.default.createRef(),o}return(0,v.default)(t,e),(0,p.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){""!==this.state.address&&e.clearAutocompleteValue&&this.setState({address:""}),""!==e.customValue&&this.setState({address:e.customValue})}}])}(h.Component);k.defaultProps={size:void 0,id:"",containerClass:"",hasError:!1,leftIcon:null,rightIcon:null,leftText:null,rightText:null,label:"",disabled:!1,searchOptions:null,currentBound:null,page:"default",city:"",debounce:500,rightImage:null,leftImage:null,autoClear:!1,inputStyle:{},customValue:"",setReqData:function(){},handleOnError:function(){},placeParams:"location"};t.default=k},3239:(e,t,o)=>{o.r(t)}}]);