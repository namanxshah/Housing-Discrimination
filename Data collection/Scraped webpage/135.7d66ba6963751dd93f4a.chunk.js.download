"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[135],{1131:(e,t,a)=>{var l=a(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(282)),o=l(a(441)),i=l(a(0));a(1147);var r=function(e){var t=e.validationState,a=e.id,l=e.readOnly,r=e.disabled,c=e.text,s=e.onChange,d=e.value,u=e.checked,f=e.name,v=e.checkedValue,p=e.inline,h=e.className,y=void 0===h?"":h,m=e.onClick,b={defaultChecked:u};"boolean"==typeof v&&(b.checked=v,delete b.defaultChecked);var g;return(0,n.default)("label",{htmlFor:a,className:(g="nb-radio",r&&(g+=" disabled"),l&&(g+=" read-only"),g+=p?" radio-inline":" radio",t&&"error"===t&&(g+=" has-error"),y?"nb-radio ".concat(y," ").concat(g).trim():g.trim())},void 0,i.default.createElement("input",(0,o.default)({type:"radio",id:a,name:f,value:d,onChange:s,onClick:m,checked:u},b)),c)};r.defaultProps={checked:!1,readOnly:!1,disabled:!1,inline:!1,onChange:function(){},onClick:function(){},validationState:null,id:"",name:"",value:null,containerClass:""};t.default=r},1738:(e,t,a)=>{var l=a(8),n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(a(44)),i=l(a(282)),r=l(a(441)),c=l(a(137)),s=l(a(53)),d=l(a(9)),u=l(a(169)),f=k(a(0)),v=l(a(49)),p=l(a(158)),h=l(a(323));a(1341);var y=l(a(2642)),m=a(1223),b=a(283),g=a(1121),_=l(a(1739)),w=a(446),M=l(a(1102)),x=l(a(2102)),S=a(681),N,L,C,D;function k(e,t){if("function"==typeof WeakMap)var a=new WeakMap,l=new WeakMap;return(k=function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,r={__proto__:null,default:e};if(null===e||"object"!=n(e)&&"function"!=typeof e)return r;if(o=t?l:a){if(o.has(e))return o.get(e);o.set(e,r)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(i.get||i.set)?o(r,c,i):r[c]=e[c]);return r})(e,t)}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach(function(t){(0,d.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var E=(0,h.default)({resolved:{},chunkName:function(){return"NbInput"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:function(){return Promise.resolve().then(a.bind(a,1114))},requireAsync:function(e){var t=this,a=this.resolve(e);return this.resolved[a]=!1,this.importAsync(e).then(function(e){return t.resolved[a]=!0,e})},requireSync:function e(t){var l=this.resolve(t);return a(l)},resolve:function e(){return 1114}}),j="".concat("https://assets.nobroker.in/nb-new/public","/List-Page"),I="".concat(j,"/list_location_icon.png"),A=function(e){var t=e.openAlertModal,a=e.fetchProperties,l=e.setSelectedLocailities,n=e.selectedLocalities,d=e.setPageCurrentView,h=e.isMapView,k=e.city,O=e.cookies,j=e.userInfo,A=e.openSignupModal,R=e.updateCanonicalUrl,T=e.propertyType,F=e.closePropertyCard,G=e.setPreSelectedLocalitiesData,q=e.getNearbyLocalitiesDataRequest,U=e.setIsNearbyShow,V=e.isNearbyShow,z=void 0!==V&&V,B=e.setNearbyTotalData,W=e.nearbyTotalData,H=e.nearbyLocalitiesData,J=e.setNearbyPlaceDetail,K=e._onNearbyLocalitySelect,Z=e.changeSelectedToggleData,Q=e.metroLinesForCityRequest,X=e.stationDataForLineRequest,Y=e.stationDataForMetroLine,$=e.metroCityLines,ee=e.setSearchFor,te=void 0===ee?function(){}:ee,ae=e.searchFor,le=e.preSelectedMetroStation,ne=e.setPreslectedMetroData,oe=e.fetchMetroSelectedData,ie=e.currLocality,re=e.shouldFocus,ce=(0,f.useRef)(),se=(0,f.useRef)(null),de=(0,f.useState)(""),ue=(0,u.default)(de,2),fe=ue[0],ve=ue[1],pe=(0,f.useState)(!1),he=(0,u.default)(pe,2),ye=he[0],me=he[1],be=(0,f.useState)(!1),ge=(0,u.default)(be,2),_e=ge[0],we=ge[1],Me=(0,f.useState)(!1),xe=(0,u.default)(Me,2),Se=xe[0],Ne=xe[1],Le=(0,f.useState)("search-page"),Ce=(0,u.default)(Le,2),De=Ce[0],ke=Ce[1],Oe=(0,f.useState)(n),Pe=(0,u.default)(Oe,2),Ee=Pe[0],je=Pe[1];(0,f.useEffect)(function(){if("undefined"!=typeof window){var e=window.location.search.includes("isMetro=true");te(e?"Metro":"Location")}},[]),(0,f.useEffect)(function(){(null==n?void 0:n.length)>0?je(n.map(function(e){return P(P({},e),{},{place_id:(null==e?void 0:e.placeId)||(null==e?void 0:e.place_id)})})):je([])},[n]);var Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=[],n=null==e?void 0:e.map(function(e){var t={lat:e.geometry?(0,v.default)(e.geometry.location,"lat"):(0,v.default)(e,"lat"),lon:e.geometry?(0,v.default)(e.geometry.location,"lng"):(0,v.default)(e,"lng"),placeId:e.place_id?(0,v.default)(e,"place_id"):(0,v.default)(e,"placeId"),placeName:e.name?(0,v.default)(e,"name"):(0,v.default)(e,"placeName")};return l.push(null==e?void 0:e.name),"Metro"!==ae&&(t.showMap=!!h||!!(!1).showMap),t}),o=btoa(JSON.stringify(n)),i=(0,m.getParsedUrlString)();if(j&&j.isUserAdmin){var r=(0,p.default)().format("x"),c=(0,p.default)().subtract(fe,"days").format("x");"".concat(r)!=="".concat(c)?i.activationDateRM="".concat(r,",").concat(c):null!=i&&i.activationDateRM&&(null==i||delete i.activationDateRM)}i&&(i.searchParam=o,i.locality=l.join(","),i.isMetro="Metro"===ae,i.radius="2.0","metro"===t?(i.showMap=!0,d(!0,ie,null,e),a(i,e)):a(i))},Ae=function(){var e;if(re&&null!=j&&j.id&&k&&O&&(0,b.nbGaEvent)("city_list_search","click_search_bar",{userId:(null==j?void 0:j.id)||"",deviceId:O.mbTrackID||null,city:k}),"Location"===ae&&ne([]),"Metro"===ae){var t,a=null===(t=(0,m.getParsedUrlString)())||void 0===t?void 0:t.showMap;(0,b.nbGaEvent)("".concat(a?"new_map_view":"list_view"),"metro_station_final_confirm",{user_city:k,propertyType:T,user_id:null==j?void 0:j.id})}if(0!==(null==n?void 0:n.length)){var l=(null===(e=(0,v.default)(O,"nbpt"))||void 0===e?void 0:e.toLowerCase())||"";window.location.pathname.includes("property")||R(),(0,b.nbGaEvent)("Search","list-".concat(l)),"Metro"!==ae&&h&&n&&(null==n?void 0:n.length)>1?(me(!0),F(!0)):Ie(n),U(!1)}else(0,g.nullLocalityMessage)(k,null==ae?void 0:ae.toLowerCase())},Re=function(){var e=(0,s.default)(o.default.mark(function e(t){var a,i,r,s,d,u,f,v,p,h,y,m;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,(0,w.getNearbyPlaceDetails)(null==t?void 0:t.place_id);case 1:null!=(s=e.sent)&&null!==(a=s.data)&&void 0!==a&&null!==(i=a.result)&&void 0!==i&&null!==(r=i.geometry)&&void 0!==r&&r.location&&(we(!1),v=null==s||null===(d=s.data)||void 0===d||null===(u=d.result)||void 0===u||null===(f=u.geometry)||void 0===f?void 0:f.location,p=v.lat,h=v.lng,(y=null!=n&&n.length?(0,c.default)(n):[]).push(P(P({},t),{},{lat:p,lng:h})),l(y),we(!0),m={},1===(null==n?void 0:n.length)?m.primary_locality_1=n[0].name:2===(null==n?void 0:n.length)&&(m.primary_locality_1=n[0].name,m.primary_locality_2=n[1].name),t&&(m.nearby_locality=t.name),(0,b.nbGaEvent)("Locality","nearby-filter-".concat(null==T?void 0:T.toLowerCase()),m),K(t));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();(0,f.useEffect)(function(){if(3===(null==n?void 0:n.length))U(!1);else if((null==n?void 0:n.length)>0&&_e){var e,t,a,l,o,i;q(1===(null==n?void 0:n.length)?"".concat((null===(e=n[0])||void 0===e?void 0:e.place_id)||(null===(t=n[0])||void 0===t?void 0:t.placeId)):"".concat((null===(a=n[0])||void 0===a?void 0:a.place_id)||(null===(l=n[0])||void 0===l?void 0:l.placeId),",").concat((null===(o=n[1])||void 0===o?void 0:o.place_id)||(null===(i=n[1])||void 0===i?void 0:i.placeId)))}else 0===(null==n?void 0:n.length)&&B(null)},[n,_e]),(0,f.useEffect)(function(){if(JSON.stringify(se.current)!==JSON.stringify(H)||2===(null==n?void 0:n.length)){if(null===H&&B(null),H&&H.length>2){(0,b.nbGaEvent)("Locality","nearby-show-filter-".concat(null==T?void 0:T.toLowerCase()));var e=null==H?void 0:H.filter(function(e){return!n.some(function(t){var a=t.place_id;return e.place_id===a})});B(e)}se.current=H}},[H]),(0,f.useEffect)(function(){function e(e){ce.current&&!ce.current.contains(e.target)&&U(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[ce]);var Te=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||ae;U("Metro"!==e),Ne("Metro"===e),"Metro"===e&&(Q({city:k}),0!==Ee.length&&0===le.length&&oe(Ee.map(function(e){return e.place_id}))),we(!0)},Fe=function(e){l(e),"Metro"===ae&&le.length&&ne(e)};return(0,f.useEffect)(function(){ae&&Se&&null!=j&&j.id&&(0,S.initializeClarity)(null==j?void 0:j.id,"METRO_SEARCH")},[ae,Se,j]),(0,i.default)("nav",{className:"w-full bg-sticky-header-bg-color bg-none left-0 right-0 top-5p py-0.5p pl-2.5p pr-3 border-b-1 border-t-1 border-sticky-header-border-color mt-1.1p fixed nb__1-LGE",style:{zIndex:"6"}},void 0,(0,i.default)("div",{className:"flex justify-between items-center"},void 0,(0,i.default)("div",{style:P({},{flex:3}),className:"flex mt-0.5 mb-0.2p"},void 0,f.default.createElement("section",{ref:ce,className:"flex nb__3xoyg"},(0,i.default)("div",{className:"flex-1 relative cursor-pointer"},void 0,(0,i.default)("span",{onClick:function(){return Te()}},void 0,f.default.createElement(y.default,(0,r.default)({},e,{searchLength:3,saveSelectedLocalities:function(e){Fe(e)},preFillLocalities:"Metro"===ae?Ee:n||[],city:k,cookies:O,blockCity:!0,setPreSelectedLocalitiesData:G,setNearbyTotalData:B,nearbyTotalData:W,searchOnEnter:Ae,source:"listPage",propType:null==T?void 0:T.toLowerCase(),getNearbyLocalitiesDataRequest:q,setNearbyPlaceDetail:J,setIsNearbyShow:U,onChangeMetroSelection:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";"Metro"===e?(U(!1),ke("search-page")):Ne(!1),te(e),Z(),"toolTipClick"!==t&&"Metro"!==e||Te(e)},selectedsearchPointer:ae,isMetro:"Metro"===ae,onClickMetroToggleCallback:function(e){"Metro"!==e||Se||Te(e)}}))),z&&null!=W&&W.length&&(null==n?void 0:n.length)<3?(0,i.default)("span",{className:"min-h-7.8p h-fit absolute pb-2 box-border bg-white border-1 border-solid rounded-b-0.8p nb__F0f3a"},void 0,(0,i.default)("h3",{className:"w-full font-semibold my-0.6 px-3"},void 0,(0,i.default)("img",{src:I,alt:"",style:{verticalAlign:"middle"},className:"w-1.6p h-1.6p inline-block"}),"Nearby Localities"),(0,i.default)("div",{className:"w-full mx-auto gap-2 flex flex-wrap justify-start px-3"},void 0,null==W?void 0:W.map(function(e,t){return(0,i.default)("div",{className:"truncate w-fit rounded-100 bg-white border-1 border-solid border-chip-border-color text-defaultcolor relative inline-block items-center text-left py-0.5p pr-1p pl-1p cursor-pointer hover:text-secondary-color  hover:border-secondary-color",onClick:function(){return Re(e)},style:{height:34,maxWidth:142}},t+1,(0,i.default)("span",{className:"w-full flex items-center h-full"},void 0,N||(N=(0,i.default)("span",{className:"text-24 mr-1 text-secondary-color"},void 0,"+")),(0,i.default)("span",{className:"truncate"},void 0,e.name)))}))):null),(0,i.default)(M.default,{id:"search",className:"listpage-search-button rounded-xl -ml-0.5",text:"Search",onClick:Ae,btnStyle:"primary"})),("pg"===T||"rent"===T||"shared"===T||"sale"===T||"plot"===T)&&"Metro"!==ae&&(0,i.default)("span",{className:"cursor-pointer ml-5 self-center whitespace-nowrap underline mt-2.5 text-1.3p text-save-search-color",id:"saveSearch",onClick:function(){0!==(null==n?void 0:n.length)?j&&j.isLoggedIn?(t(),(0,b.nbGaEvent)("Requirement","GetAlerts-open")):("undefined"!=typeof localStorage&&localStorage.setItem("service","list_save_search"),(0,b.nbGaEvent)("user_signup","signup_popup"),A("signin",function(){return setTimeout(function(){t()},100)},"")):(0,g.nullLocalityMessage)(k)}},void 0,"Save Search")),(0,i.default)("div",{className:"flex justify-between text-center items-center",style:{width:"360px"}},void 0,j&&j.isUserAdmin&&(0,i.default)("div",{className:"flex flex-col w-full"},void 0,L||(L=(0,i.default)("span",{className:"heading-7"},void 0,"Activated In ")),(0,i.default)("span",{className:"nb__4heDM"},void 0,"Last",(0,i.default)(E,{type:"text",placeholder:"",id:"activatedInput",value:fe,onChange:function(e){!function(e){ve(e.target.value)}(e),fe||(0,b.nbGaEvent)("List-Page","Activated-in-feature")}}),fe&&(null==fe?void 0:fe.length)>0&&(C||(C=(0,i.default)("span",{},void 0,"Days"))))),(0,i.default)("div",{className:"ml-auto"},void 0," ",f.default.createElement(_.default,(0,r.default)({},e,{isMapView:h,isMapViewDone:h,onClick:function(e,t,a){me(!1),d(e,t,a)},selectedLocalities:n,multiSearchForMapView:ye,isMetro:"Metro"===ae}))),ae&&Se&&(0,i.default)("div",{className:"absolute w-25pe bg-white left-3p border-1 border-solid top-5.4p h-80vh nb__3TDZP",style:{boxShadow:"#323232c7  7px 100vw 0px 100vw",zIndex:101}},void 0,(0,i.default)("div",{className:"relative h-full"},void 0,D||(D=(0,i.default)("div",{className:"flex flex-col items-start p-1.5p"},void 0,(0,i.default)("span",{className:"text-17 font-semibold"},void 0,"Search along Metro"),(0,i.default)("span",{className:"text-14 text-gray-light"},void 0,"Choose stations to discover nearby properties"))),(0,i.default)(x.default,{selectedMetroStations:le,setSelectedMetroStations:ne,currentMetroView:De,setCurrentMetroView:ke,city:k,stationDataForLineRequest:X,stationDataForMetroLine:Y,metroCityLines:$,resetMetroData:function(){return Fe([])},isDesktop:!0}),(0,i.default)("div",{className:"absolute bottom-0 flex items-center justify-evenly w-full bg-white h-6p",style:{boxShadow:"0px 4px 16px #455B6314",borderBottomLeftRadius:"12px"}},void 0,(0,i.default)(M.default,{onClick:function(){Ne(!1),ke("search-page"),0===le.length&&Fe([])},text:"Close",btnStyle:"flex items-center justify-center text-secondary-color border-secondary-color h-3.6p rounded-6 ".concat(null!=le&&le.length?"w-43pe":"w-89p"),size:"md"}),null!=le&&le.length?(0,i.default)(M.default,{onClick:function(){var e,t=null===(e=(0,m.getParsedUrlString)())||void 0===e?void 0:e.showMap;(0,b.nbGaEvent)("".concat(t?"new_map_view":"list_view"),"metro_station_final_confirm",{user_city:k,propertyType:T,user_id:null==j?void 0:j.id}),Ne(!1),l(le),window.location.pathname.includes("property")||R(),ke("search-page"),Ie(le,"metro")},text:"Search",btnStyle:"default flex items-center justify-center h-3.6p rounded-6 w-43pe",size:"md"}):null))))))},R=t.default=A},1147:(e,t,a)=>{a.r(t)}}]);